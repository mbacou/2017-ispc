# Ghana

Relevant sources of household-level micro records for Ghana are the **6 rounds of Ghana Living Standards Surveys** in particular:

- 1998/1999 **GLSS4** (EAs were first stratified into 3 ecological zones (Coastal, Forest, Savannah), and then within each zone further stratification was done into rural or urban areas)
- 2005/2006 **GLSS5** (EAs were first stratified into 10 administrative regions; within each region EAs were further sub-divided into rural or urban areas; EAs were also classified into  ecological zones and inclusion of Accra (GAMA) so that the survey results may be presented across 1) Coastal, 2) Forest, and 3) Northern Savannah, and 4) Accra).
- 2012/2013 **GLSS6** (EAs were allocated into 10 regions using probability proportional to population size (PPS), then further divided into urban and rural localities).

In contrast to the latest 2 waves GLSS4 is only representative for 3 (ecology) x 2 (rural/urban) zones.

GLSS surveys collect information on the demographic characteristics of the population, their education, health, employment and time use, migration, housing conditions and household agriculture, with a specific focus on **labor force**, with a labor force module expanded in GLSS6 to include a section on child labor.

## Household Sampling and Stratification

```{r gha-samples}

tmp <- data.frame(
  Survey=c("GLSS4", "GLSS5", "GLSS6"),
  Year=c("1997/98", "2005/06", "2012/13"),
  Regions=c(10, 10, 10),
  Districts=c(102, 110, 170),
  `Sample`=c(5998, 8687, 16772),
  `Urban`=c(2199, 3618, 7445),
  `Rural`=c(3799, 5069, 9327))

kable(tmp,
  justify="ccrrrrrrrr", format.args=list(big.mark=","),
  caption="Composition of Ghana GLSS Harmonized Survey Samples")

```

## Distribution of Farm Holdings across Farm Sizes and Farm Types

The plots below show the distribution of key variables in the unweighted sample of households across survey waves. The median line is in red, mean line in green, and the blue region is the inferred 95% confidence interval of the mean.

### Land Holding

```{r gha-land, fig.cap="Trends in Farm Sizes across Survey Waves (ha)"}

pplot(croparea_imp~survey, gha[croparea_4ha=="<= 4 ha"],
  xlab="Farms below 4 ha", ylab="Farm Size (ha)",
  note=gha[, 100*sum(is.na(croparea_imp)|croparea_imp==0)/.N])

pplot(croparea_imp~survey, gha[croparea_4ha=="> 4 ha"],
  xlab="Farms above 4 ha", ylab="Farm Size (ha)", ylim=c(4,25),
  note=gha[, 100*sum(is.na(croparea_imp)|croparea_imp==0)/.N])

```


### Trends in Commercialization

```{r gha-cc, fig.cap="Crop Commercialization across Survey Waves (percent of crop production)"}

pplot(100*cropsales_sh~croparea_4ha+survey, gha,
  ylab="Crop Commercialization",
  note=gha[, 100*sum(is.na(cropsales_sh)|cropsales_sh==0)/.N])
```

```{r gha-ac, fig.cap="Agricultural Commercialization across Survey Waves (percent of ag. production)"}

pplot(100*agsales_sh~croparea_4ha+survey, gha,
  ylab="Agricultural Commercialization",
  note=gha[, 100*sum(is.na(agsales_sh)|agsales_sh==0)/.N])

```

### Trends in Income Diversification

```{r gha-div, fig.cap="Non-Farm Income (percent of gross income)"}

pplot(100*naggross_sh~croparea_4ha+survey, gha,
  ylab="Non-Farm Income Share",
  note=gha[, 100*sum(is.na(naggross_sh)|naggross_sh==0)/.N])
```

### 3x3 Farm Classification

```{r gha-prop9, fig.cap="Est. Proportions of Farm Holdings across Farm Sizes and Categories", dev.args=list(pointsize=14)}

par(mfrow=c(1,3), mar=c(3,3,0,.25))
plot(svytable(~croparea_3clas+class9, gha.svy[["gha6"]]), main=NA, las=1, col=viridis(9),
  ylab=NA, xlab="Typology 9-class (GLSS6, 2012/13)")
plot(svytable(~croparea_3clas+class9, gha.svy[["gha5"]]), main=NA, las=1, col=viridis(9),
  ylab=NA, xlab="Typology 9-class (GLSS5, 2005/06)")
plot(svytable(~croparea_3clas+class9, gha.svy[["gha4"]]), main=NA, las=1, col=viridis(9),
  ylab=NA, xlab="Typology 9-class (GLSS4, 1998/99)")

```

```{r gha-proptab96, results="asis"}

# GLSS6
tmp <- svymean(~I(interaction(croparea_3clas, cropsales_3clas, naggross_3clas)), gha.svy.farm[["gha6"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 9), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  cropsales_3clas = factor(rep(levels(gha$cropsales_3clas), each=3, 3), levels=c("LoC", "MeC", "HiC")),
  naggross_3clas = factor(rep(levels(gha$naggross_3clas), each=9, 1), levels=c("LoD", "MeD", "HiD"))
  )]

table_options(HTMLcaption="(#tab:tab1) Est. Proportions of Farm Holdings across Categories (GLSS6, 2012/13, percent)")
html(tabular(Heading("Income Diversification")*naggross_3clas*(mean+CI)~Heading("Crop Commercialization")*croparea_3clas*Heading()*cropsales_3clas*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-proptab95, results="asis"}

# GLSS5
tmp <- svymean(~I(interaction(croparea_3clas, cropsales_3clas, naggross_3clas)), gha.svy.farm[["gha5"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 9), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  cropsales_3clas = factor(rep(levels(gha$cropsales_3clas), each=3, 3), levels=c("LoC", "MeC", "HiC")),
  naggross_3clas = factor(rep(levels(gha$naggross_3clas), each=9, 1), levels=c("LoD", "MeD", "HiD"))
  )]

table_options(HTMLcaption="(#tab:tab1) Est. Proportions of Farm Holdings across Categories (GLSS5, 2005/06, percent)")
html(tabular(Heading("Income Diversification")*naggross_3clas*(mean+CI)~Heading("Crop Commercialization")*croparea_3clas*Heading()*cropsales_3clas*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-proptab94, results="asis"}
# GLSS4
tmp <- svymean(~I(interaction(croparea_3clas, cropsales_3clas, naggross_3clas)), gha.svy.farm[["gha4"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 9), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  cropsales_3clas = factor(rep(levels(gha$cropsales_3clas), each=3, 3), levels=c("LoC", "MeC", "HiC")),
  naggross_3clas = factor(rep(levels(gha$naggross_3clas), each=9, 1), levels=c("LoD", "MeD", "HiD"))
  )]

table_options(HTMLcaption="(#tab:tab1) Est. Proportions of Farm Holdings across Categories (GLSS4, 1998/99, percent)")
html(tabular(Heading("Income Diversification")*naggross_3clas*(mean+CI)~Heading("Crop Commercialization")*croparea_3clas*Heading()*cropsales_3clas*Heading()*identity,
  data=tmp), rmarkdown=T)

```

### Simplified Farm Classification (5-class)

```{r gha-prop5, fig.cap="Est. Proportions of Farm Holdings across Farm Sizes and Categories", dev.args=list(pointsize=14)}

par(mfrow=c(1,3), mar=c(3,3,0,.25))
plot(svytable(~croparea_3clas+class5, gha.svy[["gha6"]]), main=NA, las=1, col=viridis(5),
  ylab=NA, xlab="Typology 5-class (GLSS6, 2012/13)")
plot(svytable(~croparea_3clas+class5, gha.svy[["gha5"]]), main=NA, las=1, col=viridis(5),
  ylab=NA, xlab="Typology 5-class (GLSS5, 2005/06)")
plot(svytable(~croparea_3clas+class5, gha.svy[["gha4"]]), main=NA, las=1, col=viridis(5),
  ylab=NA, xlab="Typology 5-class (GLSS4, 1998/99)")

```

```{r gha-proptab56, results="asis"}

# GLSS6
tmp <- svymean(~I(interaction(croparea_3clas, class5)), gha.svy.farm[["gha6"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 5), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  class5 = factor(rep(levels(gha$class5), each=3, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:proptab56) Est. Proportions of Farm Holdings across Categories (GLSS6, 2012/13, percent)")
html(tabular(Heading("Farm Size")*croparea_3clas*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-proptab55, results="asis"}

# GLSS5
tmp <- svymean(~I(interaction(croparea_3clas, class5)), gha.svy.farm[["gha5"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 5), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  class5 = factor(rep(levels(gha$class5), each=3, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:proptab55) Est. Proportions of Farm Holdings across Categories (GLSS5, 2005/06, percent)")
html(tabular(Heading("Farm Size")*croparea_3clas*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-proptab54, results="asis"}

# GLSS4
tmp <- svymean(~I(interaction(croparea_3clas, class5)), gha.svy.farm[["gha4"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  croparea_3clas = factor(rep(levels(gha$croparea_3clas), each=1, 5), levels=c("<= 2 ha", "2-4 ha", "> 4 ha")),
  class5 = factor(rep(levels(gha$class5), each=3, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:proptab54) Est. Proportions of Farm Holdings across Categories (GLSS4, 1998/99, percent)")
html(tabular(Heading("Farm Size")*croparea_3clas*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

## Farm Segmentation along Farm Types (5-class) and Agricultural Potential Quadrants

### All Farms

```{r gha-propquad5, fig.cap="Est. Proportions of Farm Holdings across Farm Sizes and Quadrants (all farm sizes combined)", dev.args=list(pointsize=14)}

par(mfrow=c(1,3), mar=c(3,0.25,2,.25))
plot(svytable(~seg_quad+class5, gha.svy[["gha6"]]), main=NA, las=2, col=viridis(5),
  ylab=NA, xlab="5-types and Quadrants (2012/13)")
plot(svytable(~seg_quad+class5, gha.svy[["gha5"]]), main=NA, las=2, col=viridis(5),
  ylab=NA, xlab="5-types and Quadrants (2005/06)")
# plot(svytable(~seg_quad+class5, gha.svy[["gha4"]]), main=NA, las=2, col=viridis(5),
#   ylab=NA, xlab="5-types and Quadrants (1998/99)")

```

```{r gha-propquadtab53, results="asis"}

# GLSS6
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.farm[["gha6"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab53) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS6, 2012/13, percent)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-propquadtab52, results="asis"}

# GLSS5
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.farm[["gha5"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab52) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS5, 2005/06, percent)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-propquadtab51, results="asis", eval=F}

# GLSS4
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.farm[["gha4"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab51) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS4, 1998/99, percent)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

### Small Farms (below 4 ha)

```{r gha-propquad5sh, fig.cap="Est. Proportions of Farm Holdings across Farm Sizes and Quadrants (farms below 4 ha)", dev.args=list(pointsize=14)}

par(mfrow=c(1,3), mar=c(3,0.25,2,.25))
plot(svytable(~seg_quad+class5, gha.svy.shf[["gha6"]]), main=NA, las=2, col=viridis(5),
  ylab=NA, xlab="5-types and Quadrants (2012/13)")
plot(svytable(~seg_quad+class5, gha.svy.shf[["gha5"]]), main=NA, las=2, col=viridis(5),
  ylab=NA, xlab="5-types and Quadrants (2005/06)")
# plot(svytable(~seg_quad+class5, gha.svy.shf[["gha4"]]), main=NA, las=2, col=viridis(5),
#   ylab=NA, xlab="5-types and Quadrants (1998/99)")

```

```{r gha-propquadtab53sh, results="asis"}

# GLSS6
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.shf[["gha6"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab53sh) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS6, 2012/13, percent, farms below 4 ha)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-propquadtab52sh, results="asis"}

# GLSS5
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.shf[["gha5"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab52sh) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS5, 2005/06, percent, farms below 4 ha)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```

```{r gha-propquadtab51sh, results="asis", eval=F}

# GLSS4
tmp <- svymean(~I(interaction(seg_quad, class5)), gha.svy.shf[["gha4"]], na.rm=T)
tmp.cv <- confint(tmp)
tmp <- cbind(as.data.table(tmp*100), as.data.table(tmp.cv*100))
tmp[`2.5 %`<0, `2.5 %` := 0]
tmp <- tmp[, lapply(.SD, function(x) format(x, digits=0, nsmall=1, scientific=F))]
tmp[, CI := paste(`2.5 %`, `97.5 %`, sep=" - ")]

tmp[, `:=`(
  seg_quad = factor(rep(quad, each=1, 5), levels=quad),
  class5 = factor(rep(levels(gha$class5), each=4, 1), levels=levels(gha$class5))
  )]

table_options(HTMLcaption="(#tab:propquadtab51sh) Est. Proportions of Farm Holdings across Types and Quadrants (GLSS4, 1998/99, percent, farms below 4 ha)")
html(tabular(Heading("Quadrant")*seg_quad*(mean+CI)~Heading("Farm Types")*class5*Heading()*identity,
  data=tmp), rmarkdown=T)

```
